<html>
	<head>
		<title>Le jeu dans ta mère</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
		<style>
			body{font-family: Sans-serif;}
			#image{
				min-width:90%;
				max-width:90%;
				margin: 5% auto 5% auto;
			}
			#text{
				font-size: 3vh;
				margin: 5%;
				text-align: justify;
			}
			input{position:absolute;}
			#input{
				width:100%;
				height:15%;
				font-size: 9vw;
				padding-left: 5%;
				border: lightgrey 2px solid;
				bottom:15%;
				left:0px;
			}
			#previous, #next{
				width:50%;
				height:15%;
				font-size:9vw;
				background-color:lightgrey;
				border:none;
				bottom:0px;
			}
			#previous{left:0px;}
			#next{right:0px;}
		</style>
	</head>
	<body>
		<img id="image"/>
		<div id="text"></div>
		<input id="input" type="text" placeholder="Code"/><br/>
		<input id="previous" type="button" value="Précédent"/>
		<input id="next" type="button" value="Suivant"/>
	</body>
	<script type="text/javascript">
		var imageElement = document.getElementById('image');
		var textElement = document.getElementById('text');
		var inputElement = document.getElementById('input');
		var previousElement = document.getElementById('previous');
		var nextElement = document.getElementById('next');
		var pagen = 0;
		var page = [
			{'text':'Allez, j’y retourne. Encore. J’ai rendu mes livres, je vais de nouveau parcourir ce chemin, que je connais par coeur.',},
			{'text':'Je passe souvent sur ce pont mais ce n’est jamais vraiment pareil. Parfois il y a des poissons, d’autres fois il n’y en a pas. Parfois je marche seule, d’autres fois pas.'},
			{'text':'J’aime le bâtiment de la Cité, d’ici il est encore plus beau. C’est amusant de voir comme les époques se mélangent. A droite, en face à gauche, tout est différent.'},
			{'text':'Mais ce que j’aime le plus contempler, c’est le pont de St Cybard. Comment l’eau vive fait naître de nouvelles formes dans le paysage. J’aime cette vue parce que tout y bouge, tout y change.'},
			{
				'text':'Rudy aussi aimait beaucoup cette vue. Il y voyait l’avenir qu’on pourrait avoir, il imaginait de belles choses. C’est lui qui a eu l’idée du cadenas. D’ailleurs, je ne me souviens plus vraiment de la date qu’il a inscrite dessus.',
				'code':['9.10.11','09.10.11','9/10/11','09/10/11','9-10-11','09-10-11','9 octobre 2011','chiant ce jeu']
			},
			{'text':'Quand j’y pense, Rudy, c’était un peu Corto Maltese, à sa façon, toujours à regarder vers le ciel.'},
			{'text':'Quand je regarde le musée, je me demande comment ils ont pu passer de l’amour du vin à celui du dessin. Mais bon, passer par là me permet d’apprécier la descente.'},
			{
				'text':'Me balader le long de la charente me rappelle la dernière grande crue. Les eaux avaient reprit leur droit. C’était l’année...',
				'code':['1982','décembre 1982','prout']
			},
			{'text':'Cette branche est énorme. Des fois j’attends dessous pendant longtemps, pour voir si elle va me tomber dessus. Mais jamais rien ne se passe.'},
			{'text':'En fait je suis impressionée par l’ingéniosité des humains. Ils trouvent toujours un truc, une technique pour que ça tienne. Que ce soit une sangle pour tenir un bras un peu trop pesant, ou des anneaux assez serrés pour ériger une tour, ils m’épatent.'},
			{
				'text':'D’ailleurs je crois qu’il y a au moins autant de tronçons sur cette cheminée que d’amants que j’ai eus l’année dernière, ça doit faire…',
				'code':['16','17','18','fuck']
			},
			{'text':'Oui, c’est bien ça.'},
			{'text':'En général c’est vraiment à partir de ce moment là que je deviens nostalgique. Je me souviens des portails qui se sont ouverts sous mon passage, des jardins que j’ai foulés de mes pieds. Rien n’a bougé. Même le puit est encore là, ils l’ont repeint.'},
			{
				'text':'Mais je n’aime pas la couleur, enfin, je crois. Quelle couleur c’est déjà ?',
				'code':['blanc','blanche','rouille','rouillé','géraud','gero','geronomie','geraud']
			},
			{'text':'Ce que j’aime cette demeure… La Maison Alsacienne. Elle a été construite pour un chauffeur et un jardinier. Barnabé et Guilhem, de vrais gentlemen. Malheureusement, je n’ai pas eu le temps de me mettre Lazare dans la poche. Il était trop occupé.'},
			{'text':'”La coulée verte”. Quel nom ironique. En fait mon dernier amant en date aimait beaucoup ce petit chemin sous le pont. On s’y rejoignait souvent. Quelque part il avait de l’instinct, Liam. Il m’a bien facilité la tâche à toujours vouloir qu’on se voit ici. C’était un joli garçon. Un joli garçon un peu naïf.'},
			{
				'text':'Lui aussi a voulu “sceller notre amour”. Il aimait mon prénom. Moi je l’ai pris au hasard sur internet. Du coup je ne sais plus trop ce que je lui ai dit...',
				'code':['tifany','tiffany','tifanie','tiffanie','tifanny','tifannie','casse couille','ta mère']
			},
			{'text':'En fait cet endroit est très pratique pour moi. Le jour où je sais qu’ils feront tout pour moi, je leur dit de venir un samedi soir. On se rencontre ici, et lorsque vient le moment de s’étreindre, hop! c’est parti pour un aller sans retour dans la Charente.'},
			{'text':'Quand on est une vouivre on a pas trop le choix. On peut faire semblant de manger ce qu’on nous propose, mais on ne le digère pas. J’ai essayé avec des animaux, mais mon régime est exclusif, chair humaine, emplie de désir, d’amour, et mâle. Si je ne la cuisine pas bien, ça ne me rassasie qu’à moitié.'},
			{'text':'Quand je finis ma balade avant de rentrer, j’aime passer sur le pont de St Cybard, et j’essaie de retrouver le chemin que j’ai parcouru. Je ne peux pas tout distinguer à travers les arbres, et souvent je me rends compte que c’est un peu comme si je contemplais ma mémoire. Je suis vieille maintenant, ça doit faire mille ans que je vis à Angoulême, et mes souvenirs commencent à s’estomper.'}
		];
		function displayPage(){
			imageElement.src = (page[pagen].image)?page[pagen].image:'';
			imageElement.style.display = (page[pagen].image)?'block':'none';
			textElement.innerHTML = page[pagen].text;
			inputElement.value = ''; // Clear input
			inputElement.style.visibility = (page[pagen].code)?'visible':'hidden';
			previousElement.style.visibility = (pagen>0)?'visible':'hidden';
			nextElement.style.visibility = (pagen<page.length-1)?'visible':'hidden';
		}
		function input(e){if(e.keyCode==13)next();}
		function previous(){
			pagen = Math.max(0,pagen-1);
			displayPage();
		}
		function next(){
			var code = page[pagen].code;
			if(code){ // A code is needed to pass this page
				if(typeof code != 'object') code = [code]; // Single element gets put into array
				if(code.indexOf(inputElement.value.toLowerCase())<0){
					inputElement.style.borderColor = 'red';
					setTimeout(function(){inputElement.style.borderColor = 'lightgrey';},250);
					return;
				}
			}
			pagen = Math.min(page.length-1,pagen+1);
			displayPage();
		}
		inputElement.onkeydown = input;
		previousElement.onclick = previous;
		nextElement.onclick = next;
		displayPage();
	</script>
</html>
